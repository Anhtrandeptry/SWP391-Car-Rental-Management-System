<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quản lý xe - Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --green: #00a58e; --red: #e74c3c; --bg: #f8f9fa; --text: #333; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 30px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .table-card { background: white; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); overflow: hidden; }
        table { width: 100%; border-collapse: collapse; }
        th { background: #fcfcfc; padding: 18px; text-align: left; font-size: 12px; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        td { padding: 18px; border-top: 1px solid #f0f0f0; }
        .car-cell { display: flex; align-items: center; gap: 15px; }
        .car-cell img { width: 80px; height: 50px; border-radius: 6px; object-fit: cover; background: #eee; }
        .price { font-weight: bold; color: #2d3436; }
        .btn-group { display: flex; gap: 10px; }
        .btn { border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 8px; transition: 0.2s; color: white; }
        .btn-approve { background: var(--green); }
        .btn-approve:hover { background: #008a77; }
        .btn-reject { background: var(--red); }
        .btn-reject:hover { background: #c0392b; }
        form { margin: 0; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>Quản lý xe</h1>
        <div style="color: #666">Tổng số yêu cầu: <strong th:text="${cars.size()}">0</strong></div>
    </div>

    <div class="table-card">
        <table>
            <thead>
            <tr>
                <th>Xe</th>
                <th>Địa điểm</th>
                <th>Giá/Ngày</th>
                <th>Hành động</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="car : ${cars}">
                <td>
                    <div class="car-cell">
                        <img th:src="${car.mainImageUrl}" alt="Car Image">
                        <div>
                            <div style="font-weight: 700" th:text="${car.name}">Tên xe</div>
                            <div style="font-size: 12px; color: #aaa" th:text="'ID: #' + ${car.id}">ID</div>
                        </div>
                    </div>
                </td>
                <td th:text="${car.location}">Địa điểm</td>
                <td class="price" th:text="${#numbers.formatDecimal(car.pricePerDay, 0, 'COMMA', 0, 'POINT')} + 'K'">0K</td>
                <td>
                    <div class="btn-group">
                        <form th:action="@{'/admin/approve/' + ${car.id}}" method="post">
                            <button type="submit" class="btn btn-approve">
                                <i class="fas fa-check"></i> Chấp nhận
                            </button>
                        </form>
                        <form th:action="@{'/admin/reject/' + ${car.id}}" method="post">
                            <button type="submit" class="btn btn-reject">
                                <i class="fas fa-times"></i> Từ chối
                            </button>
                        </form>
                    </div>
                </td>
            </tr>
            <tr th:if="${cars.isEmpty()}">
                <td colspan="4" style="text-align: center; padding: 50px; color: #999;">Không có yêu cầu phê duyệt nào.</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>